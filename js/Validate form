document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("enquiryForm");
  const name = document.getElementById("name");
  const email = document.getElementById("email");
  const subject = document.getElementById("subject");
  const message = document.getElementById("message");
  const successMsg = document.getElementById("successMessage");

  // Error labels
  const errors = {
    name: document.getElementById("nameError"),
    email: document.getElementById("emailError"),
    subject: document.getElementById("subjectError"),
    message: document.getElementById("messageError"),
  };

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    let valid = true;

    // Name
    if (name.value.trim().length < 3) {
      errors.name.textContent = "Please enter at least 3 characters.";
      errors.name.style.display = "block";
      valid = false;
    } else {
      errors.name.style.display = "none";
    }

    // Email
    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
    if (!email.value.match(emailPattern)) {
      errors.email.textContent = "Please enter a valid email address.";
      errors.email.style.display = "block";
      valid = false;
    } else {
      errors.email.style.display = "none";
    }

    // Subject
    if (subject.value.trim() === "") {
      errors.subject.textContent = "Subject cannot be empty.";
      errors.subject.style.display = "block";
      valid = false;
    } else {
      errors.subject.style.display = "none";
    }

    // Message
    if (message.value.trim().length < 10) {
      errors.message.textContent = "Message must be at least 10 characters.";
      errors.message.style.display = "block";
      valid = false;
    } else {
      errors.message.style.display = "none";
    }

    // If valid, show success message
    if (valid) {
      successMsg.textContent = "âœ… Thank you! Your enquiry has been submitted successfully.";
      successMsg.style.display = "block";
      form.reset();

      setTimeout(() => {
        successMsg.style.display = "none";
      }, 4000);
    }
  });
});
